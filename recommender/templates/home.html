<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>{% block title %}Nicestuff{% endblock %}</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <style>
      @import url("https://fonts.googleapis.com/css?family=Abril+Fatface");
      @import url("https://fonts.googleapis.com/css?family=Scada");
      @import url("https://fonts.googleapis.com/css?family=Raleway");

      /*==============================================navbar==============================================*/
      html,body
      {
        width: 100%;
        height: 100%;
        margin: 0px;
        padding: 0px;
        overflow-x: hidden;
        scroll-behavior: smooth;
      }

      .pagewrapper{
        width: 100%;
        flex-direction: column;
        justify-content: flex-start;
      }

      .navbarwrapper{
        position: fixed;
        top: 0;
        z-index: 20;
        width: 100%;
        background-color: rgb(30, 30, 30);
        justify-content: space-around;
        flex-direction: column;
      }

      .navbarghost {
        z-index: 20;
        width: 100%;
        background-color: rgb(30, 30, 30);
        justify-content: space-around;
        flex-direction: column;
      }

      .tophalfcontentwrapper{
        display: flex;
        justify-content: space-around;
      }


      .topleftcontentwrapper{
        justify-content: flex-start;
        align-self: center;
        height: 50px;
        width: 150px;
      }

      .logowrapper{
        display: flex;
        font-family: Abril Fatface;
        font-size: 3.5em;
        align-self: center;
        font-style: normal;
        font-weight: normal;
        line-height: normal;
        text-align: center;
        color: #FFFFFF;
      }

      .toprightcontentwrapper{
        display: flex;
        justify-content: space-between;
        align-items: center;
        align-self: center;
        height: 35px;
        width: 150px;
      }

      .useravatar {
          border-radius: 50%;
          height: 40px;
          width: 40px;
      }


      .bottomhalfcontentwrapper{
        display: flex;
        justify-content: center;
      }

      .navbarlinkwrapper{
        display: flex;
        width: 50%;
        justify-content: space-between;
      }

      .navbarlink{
        font-family: Scada;
        font-style: normal;
        font-weight: bold;
        font-size: 1rem;
        text-align: center;
        text-decoration:none;
        letter-spacing: 0.2em;
        color: lightgray;
        padding-top: 10px;
        padding-bottom: 10px;
      }

      .navbarlink:hover{
        color: pink;
        text-decoration: none;
      }

      .navbarlink:active{
        color: hotpink;
        text-decoration: none;
      }

      #welcometext {
        color: white;
        font-size: 1em;
      }

      /* ADDING FOR DROPDOWN THINGY */

      .dropbtn {
        padding: 8px;
        font-size: 1em;
        border: none;
        cursor: pointer;
        background-color: rgb(30, 30, 30);
        color: seashell;
        font-family: 'Raleway';
      }

      .dropbtn:hover {
        border-radius: 5px;
        background-color: rgb(20, 20, 20);

      }

      .dropdown {
        position: relative;
        display: inline-block;
        border-radius: 10px;
        font-family: 'Raleway';
      }

      .dropdown-content {
        display: none;
        position: absolute;
        background-color: rgb(30, 30, 30);
        min-width: 160px;
        z-index: 1;
      }

      .dropdown-content a {
        padding: 12px 16px;
        text-decoration: none;
        display: block;
      }

      .dropdown-content a:hover {  border-radius: 5px;
        background-color: rgb(20, 20, 20);}

      .dropdown:hover .dropdown-content {
        display: block;
      }

      .dropdown:hover .dropbtn {
        background-color: none;
      }

      /*==============================================gridarea==============================================*/

      .flip-card {
        margin: 5px;
        background-color: none;
        width: 300px;
        height: 320px;
        perspective: 1000px;
        border-radius: 20px;
      }

      .flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.4s;
        transform-style: preserve-3d;
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        border-radius: 20px;

      }

      .flip-card:hover .flip-card-inner {
        transform: rotateY(180deg);
      }

      .flip-card-front, .flip-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 20px;

      }

      .flip-card-front {
        background-color: none;
        color: black;
        z-index: 2;
        border-radius: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .flip-card-back {
        background-color: rgba(0,0,0,0.8);
        color: lightgrey;
        transform: rotateY(180deg);
        z-index: 1;
        border-radius: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      #contentwrap {
        display: flex;
        flex-direction: column;
        align-items: center; 
        width: 100vw;
      }

      .sectionheading {
        font-family: 'Raleway';
        color: black;
        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        width: 80vw;
        align-items: center;
        padding-top: 40px;
        padding-bottom: 10px;
      }

      .gridwrap {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        width: 90vw;
        justify-content: center;
        padding-bottom: 80px;
      }

      .itemimg {
        background-color: white;
        width: 280px;
        height: 280px;
        border-radius: 20px;
        overflow: hidden;
      }
      
      .btnpricewrap{
        display: flex;
        flex-direction: row;
        width: 100%;
        justify-content: space-around;
        align-items: space-around;
      }
    </style>
  </head>

  <body>
      <div class="navbarghost">
        <div class="tophalfcontentwrapper">
          <div class="topleftcontentwrapper">

          </div>
          <div class="logowrapper">
            Nicestuff
          </div>
          <div class="toprightcontentwrapper">
              <div class="dropdown">
                <button type="button" class="dropbtn">
                  <span>Hello {{ user.username }}!  </span>         
                  <span class="glyphicon glyphicon-chevron-down"></span>
                </button>
                <div class="dropdown-content">
                  <a href="{% url 'favorites' %}" style="color: white;">Favorites</a>
                  <a href="{% url 'history' %}" style="color: white;">History</a>
                  <a href="{% url 'logout' %}" style="color: red;">Logout</a>
                </div>
              </div>
          </div>
        </div>
        <div class="bottomhalfcontentwrapper">
          <div class="navbarlinkwrapper">
            <a class="navbarlink" href="#electronicssection">
              ELECTRONICS
            </a>
            <a class="navbarlink" href="#mensfashionsection">
              MEN'S FASHION
            </a>
            <a class="navbarlink" href="#womensfashionsection">
              WOMEN'S FASHION
            </a>                                                  
          </div>
        </div>
      </div>
      <div class="navbarwrapper">
        <div class="tophalfcontentwrapper">
          <div class="topleftcontentwrapper">

          </div>
          <div class="logowrapper">
            Nicestuff
          </div>
          <div class="toprightcontentwrapper">
              <div class="dropdown">
                <button type="button" class="dropbtn">
                  <span>Hello {{ user.username }}!  </span>         
                  <span class="glyphicon glyphicon-chevron-down"></span>
                </button>
                <div class="dropdown-content">
                  <a href="{% url 'favorites' %}" style="color: white;">Favorites</a>
                  <a href="{% url 'history' %}" style="color: white;">History</a>
                  <a href="{% url 'logout' %}" style="color: red;">Logout</a>
                </div>
              </div>
          </div>
        </div>
        <div class="bottomhalfcontentwrapper">
          <div class="navbarlinkwrapper">
            <a class="navbarlink" href="#electronicssection">
              ELECTRONICS
            </a>
            <a class="navbarlink" href="#mensfashionsection">
              MEN'S FASHION
            </a>
            <a class="navbarlink" href="#womensfashionsection">
              WOMEN'S FASHION
            </a>                                                  
          </div>
        </div>
      </div>

      <div id="contentwrap">
        {% if rec_list %}
        <div class="sectionheading" id="electronicssection">
          <h3>Nicest across all categories</h3>
        </div> 
        <div class="gridwrap">
          {% for recs in rec_list %}
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front" style="width:300px;height:320px; background-color: white">
                    <div class="itemimg">
                      <img src="{{ recs.pid.image_url }}" alt="{{ recs.pid.name }}" height="280px">                    </div>
                    <div class="itemname" style="font-family: 'Raleway'; font-size: 1.1em;">
                      {{ recs.pid.name }}
                    </div>
                  </div>
                  <div class="flip-card-back">
                    <div class="itemname" style="font-family: 'Raleway'; font-size: 1.2em; color: white;">
                      <b>{{ recs.pid.name }}</b>
                    </div>
                    <div class="itemdesc" style="font-family: 'Raleway'; font-size: 0.9em; padding: 10px;">
                      {{ recs.pid.desc }}
                    </div>
                    <div class="btnpricewrap">
                      <button type="button" class="btn btn-danger" style="border-radius: 50%; font-size: 2em; width: 60px; height: 60px;"><b>X</b></button>
                      <b style="font-size: 1.5em; color: white;">&#x20b9; {{ recs.pid.price }} </b>
                      <button type="button" class="btn btn-success" style="border-radius: 50%; font-size: 2em; width: 60px; height: 60px;"><b><span class="glyphicon glyphicon-heart"></span>	</b></button>
                    </div>
                  </div>
                </div>
            </div>
          {% endfor %}
          {% else %}
          <p>No recommendations are available.</p>
          {% endif %}
                                                                                   
        </div>       
      </div>
  </body>
</html>

